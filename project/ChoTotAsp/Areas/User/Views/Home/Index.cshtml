@using ChoTotAsp.Utils
@model ChoTotAsp.Areas.User.ViewModel.HomeViewModel
@{
    ViewBag.Title = "Trang chủ";
    Layout = "~/Areas/User/Views/Shared/_Layout.cshtml";
    var isLogin = AuthenticationUtil.GetUserId(Context.Request, Session) != -1;
}
@Html.Partial("Modal", isLogin)

<!-- Page content-->
<!-- Hero + Search form-->
@Html.Partial("Hero")
<!-- Body type selection-->
@Html.Partial("Category", Model.Categories)
<!-- Top offers-->
@Html.Partial("Offer", Model.ProductList)
<!-- Brands-->s
@Html.Partial("Brand")
<!-- Features-->
@Html.Partial("Feature")
<!-- CTA carousel-->
@Html.Partial("CTA")

@section js {
    @if (!isLogin)
    {
        if (TempData[Constant.STATUS_RS] != null)
        {
            <script>
            if ('@(TempData[Constant.STATUS_RS]?.ToString().Equals(Constant.OPEN_LOGIN))' === 'True') {
                document.getElementById('open-signin').click();
            } else if ('@(TempData[Constant.STATUS_RS]?.ToString().Equals(Constant.OPEN_SIGNUP))' === 'True') {
                const modal = new bootstrap.Modal('#signup-modal')
                modal.show()
            } else if ('@(TempData[Constant.STATUS_RS]?.ToString().Equals(Constant.OPEN_FORGET_PASSWORD))' === 'True') {
                const modal = new bootstrap.Modal('#forget-password-modal')
                modal.show()
            }
            </script>
        }

        <script type="text/javascript" src="~/Scripts/User/home.index.js"></script>
    }
}