@{
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
    ViewBag.Title = "Quản lý danh mục";
}
<div class="application mb-20">
    <div class="app-content">
        <form class="form-filter" method="get" action="@Url.Action("Index")">
            <div class="row row-custom">
                <div class="col-md-5">
                    <div class="form-group">
                        <input type="text" name="searchTerm" value="@Model.SearchTerm" placeholder="Nhập từ khóa tìm kiếm..."/>
                        <i class="fas fa-search"></i>
                    </div>
                </div>
                <div class="col-md-3 d-flex">
                    <button type="submit" class="btn yellow btn-block fs-15 me-2">
                        <span>Tìm</span>
                    </button>
                    <button type="button" class="btn btn-block btn-outline-warning fs-15" onclick="openDialog()">
                        <span>Thêm</span>
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>
<br>

<table class="dashboard-packages">
    <tr >
        <th>Tên danh mục</th>
        <th>Ngày tạo</th>
        <th>Ngày cập nhật</th>
        <th >Trạng thái</th>
        <th >Hình ảnh</th>
        <th></th>
    </tr>
    <tbody >
    @foreach (var category in Model.Categories)
    {
        <tr>
            <td>
                <span>@category.CategoryName</span>
            </td>
            <td>
                <span>@category.CreatedDate.ToString("HH:mm dd/MM/yyyy")</span>
            </td>
            <td>
                <span>@category.LastUpdatedDate.ToString("HH:mm dd/MM/yyyy")</span>
            </td>
            <td>
                <div class="badge @(category.Status == "ACTIVE" ? "complete" : "cancel")">
                    @(category.Status == "ACTIVE" ? "Hoạt động" : "Không hoạt động")
                </div>
            </td>
            <td>
                <div>
                    <img src="@category.CategoryImage" alt="Avatar" style="width: 60px; height: 60px"/>
                </div>
            </td>
            <td>
                <i class="fas fa-edit" onclick="openDialog(@category.CategoryId)" style="font-size: 22px;"></i>
            </td>
        </tr>
    }
    </tbody>
</table>


<div tabindex="-1" class="vodal" style="animation-duration: 100ms; display: none;" id="model-container">
    <div class="vodal-mask"></div>
    <div class="vodal-dialog normal fade" style="animation-duration: 100ms; display: none;" id="model-body">
        <div class="modal-header">
            <h3 id="cate-title">
                Chỉnh sửa thông tin
            </h3>
            <i class="fas fa-times vodal-close" style=" cursor: pointer;" onclick="closeDialog()"></i>
        </div>
        <div class="modal-body">
            <div class="my-profile pr-15">
                <div class="pr-0">
                    <div class="form-group row">
                        <div class="form-group col-lg-8">
                            <label class="m-0">Tên Sản Phẩm</label> <span class="required" style="color: red;">*</span> <input id="form-category-name" type="text">
                        </div>
                        <div class="form-group col-lg-3">
                            <img id="preview" src="" alt="Image Preview" style=" display: none; position: absolute; height: 250px; width: 280px"/>
                        </div>
                    </div>
                    <div class="form-group">
                        <span>
                            <label>Trạng thái <span class="required">*</span></label>
                            <div class="radios">
                                <div class="radio-item">
                                    <input id="status-active" type="radio" name="status" value="ACTIVE"> <label for="status-active">ACTIVE</label>
                                </div>
                                <div class="radio-item">
                                    <input id="status-inactive" type="radio" name="status" value="INACTIVE"> <label for="status-inactive">INACTIVE</label>
                                </div>
                            </div>
                            <span class="validate-errors"></span>
                        </span>
                    </div>
                    <div class="form-group">
                        <div class="form-group col-lg-8">
                            <div fragment="12e69c414a3" class="form-group form-upload">
                                <label for="upload" class="upload text-center fix-i">
                                    <i class="icon-upload"></i>
                                    <h5>
                                        <span class="fs-18 fw-600">
                                            <i class="fa fa-paperclip" style="font-size: 15px"></i> 1 tệp đính kèm
                                        </span>
                                    </h5>
                                    <p class="mb-n fs-14 fw-400">
                                        (Định dạng .png, kích thước tối đa 5Mb)
                                        <br>
                                    </p> <input type="text" class="d-none">
                                </label> <span class="validate-errors"></span>
                            </div>
                            <input id="upload" type="file" class="d-none">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer two-side centered">
            <div class="left-side">
                <a href="javascript:void(0)" class="prt--2" onclick="closeDialog()">Đóng</a>
            </div>
            <div class="right-side">
                <button type="submit" class="btn yellow btn-block fs-15" onclick="saveCategory()">
                    <span>Lưu</span>
                </button>
            </div>
        </div>
    </div>
</div>

@section js {
    <script src="~/Scripts/Admin/category.management.js"></script>
}